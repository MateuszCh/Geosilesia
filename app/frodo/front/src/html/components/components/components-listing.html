<section class="custom-post-types">
    <h2 class="custom-post-types__heading">Komponenty</h2>
    <div class="custom-post-types__container--top-padding">
        <div class="custom-post-types__container__left">
            <a class="button"
               ui-sref="componentsAdd">Dodaj nowy</a>
            <p class="custom-post-types__result"
               ng-class="{'custom-post-types__result--ok' : vm.removeStatus.status == 200}"
               ng-bind="vm.removeStatus.result"
               ng-if="vm.removeStatus.result"></p>
        </div>
        <div class="custom-post-types__container__right">
            <p ng-if="vm.loadingComponents"
               ng-bind="'Loading...'"
               class="center"></p>
            <div ng-if="!vm.loadingComponents">
                <p class="center"
                   ng-if="!vm.components.length">Nie ma obecnie żadnych komponentów</p>
                <div class="custom-post-types__item"
                     ng-repeat="component in vm.components track by component._id">
                    <a class="custom-post-types__item__title"
                       ui-sref="componentsEdit({id: component.id})"
                       ng-bind="component.title"></a>
                    <a class="button button--inline"
                       ui-sref="componentsEdit({id: component.id})">Edytuj</a>
                    <button class="button button--inline"
                            ng-click="vm.removeComponent(component._id, $index)"
                            ng-class="{'busy' : vm.removeStatus.busy === component._id && !vm.removeStatus.status}">Usuń</button>
                </div>
            </div>
        </div>
    </div>
</section>
