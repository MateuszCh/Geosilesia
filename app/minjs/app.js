!function(){angular.module("geosilesia",["ngRoute","ngAnimate","duScroll","ngTouch"]);angular.module("geosilesia").controller("MainController",["$scope","$window","$rootScope",function(n,i,o){function t(){this.pageYOffset>=100?n.showButtonUp=!0:n.showButtonUp=!1,n.$apply()}function e(){o.isS=!1,o.isM=!1,o.isL=!1,o.isX=!1}function s(t){e();var s=i.innerWidth;s<767?o.isS=!0:s<1200?o.isM=!0:s<1500?o.isL=!0:o.isX=!0,t&&n.$apply()}n.init=function(){s()},n.init(),i.addEventListener("scroll",t),i.addEventListener("resize",function(){s(!0)}),o.$on("$routeChangeSuccess",function(){i.scrollTo(0,0),o.blur=!1})}])}();
!function(){function o(){}angular.module("geosilesia").component("about",{templateUrl:"html/views/about.html",bindings:{custom:"<"},controllerAs:"vm",controller:o}),o.$inject=[]}();
!function(){function n(){}angular.module("geosilesia").component("dictionary",{templateUrl:"html/views/dictionary.html",bindings:{custom:"<"},controllerAs:"vm",controller:n}),n.$inject=[]}();
!function(){function n(){}angular.module("geosilesia").component("english",{templateUrl:"html/views/english.html",bindings:{custom:"<"},controllerAs:"vm",controller:n}),n.$inject=[]}();
!function(){function e(e,t){function a(){e.get("json/gallery.json").then(function(e){r.galleries=e.data.gallery})}function o(e){r.selectedCategory!==e&&(t.cancel(c),r.selectedCategory=void 0,c=t(function(){r.selectedCategory=e},300))}var r=this;r.galleries=[],r.$onInit=a,r.selectedCategory="all",r.changeCategory=o;var c;r.categories=[{category:"wyzyna",categoryText:"krainy geograficzne"},{category:"mineralySkaly",categoryText:"minerały i skały"},{category:"dziedzictwo",categoryText:"dziedzictwo poprzemysłowe"},{category:"sciezki",categoryText:"ścieżki tematyczne"},{category:"wydarzenia",categoryText:"wydarzenia"},{category:"all",categoryText:"wszystkie"}]}angular.module("geosilesia").component("galleries",{templateUrl:"html/views/galleries.html",bindings:{custom:"<"},controllerAs:"vm",controller:e}),e.$inject=["$http","$timeout"]}();
!function(){function l(l,o,e){function n(l){r.showFullMode=!0,r.openWith=l,e.blur=!0}function t(){l.get("json/galleries/"+o.galleryId+".json").then(function(l){r.gallery=l.data})}var r=this;r.$onInit=t,r.showFullMode=!1,r.openFullMode=n}angular.module("geosilesia").component("gallery",{templateUrl:"html/views/gallery.html",bindings:{custom:"<"},controllerAs:"vm",controller:l}),l.$inject=["$http","$routeParams","$rootScope"]}();
!function(){function e(e,n,t){function i(){e.addEventListener("resize",l),n.$on("$routeChangeSuccess",function(){s.currentPath=t.path(),"/"===s.currentPath&&(s.activeGeo=!1,s.hamOpen=!1)})}function o(){return s.hamOpen?s.hamOpen=!1:s.hamOpen=!0}function a(e){s.activeGeo=e.subtitle}function l(){s.hamOpen=!1}var s=this;s.$onInit=i,s.hamOpen=!1,s.openHam=o,s.activeGeo=!1,s.checkGeo=a,s.nav=[{title:"O serwisie",link:"/o-nas"},{title:"Geośląsk",submenu:[{subtitle:"Położenie",link:"/polozenie"},{subtitle:"Rzeźba terenu",link:"/rzezba"},{subtitle:"Budowa geologiczna",link:"/budowa"},{subtitle:"Geostanowiska",link:"/geostanowiska"},{subtitle:"Atakcje geoturystyczne",link:"/atrakcje"}]},{title:"Wydarzenia",link:"/wydarzenia"},{title:"Słownik",link:"/slownik"},{title:"Galeria",link:"/galeria"},{title:"English",link:"/english"}]}angular.module("geosilesia").component("header",{templateUrl:"html/header.html",bindings:{custom:"<"},controllerAs:"vm",controller:e}),e.$inject=["$window","$rootScope","$location"]}();
!function(){function e(e,n,t){function o(){t.hideHeader=!1,n.removeEventListener("scroll",i)}function r(){e.get("json/markers.json").then(function(e){l.markers=e.data.obiekty}),document.getElementById("map")&&n.addEventListener("scroll",i)}function i(){if(a){var e=a.offsetHeight,o=n.innerHeight,r=n.scrollY,i=r+e;t.hideHeader=o<i}}var l=this;l.markers=[],l.$onInit=r,l.$onDestroy=o;var a=document.getElementById("mainHeader");l.scrollTo}angular.module("geosilesia").component("homepage",{templateUrl:"html/views/homepage.html",bindings:{custom:"<"},controllerAs:"vm",controller:e}),e.$inject=["$http","$window","$rootScope"]}();
!function(){function e(e,n){function r(){e.blur=!1,t.show=!1}function m(){}function a(e){e.images&&e.images.currentValue&&(t.numberOfImages=e.images.currentValue.length),e.activeSlide?(t.noMove=!0,t.currentImage=e.activeSlide.currentValue,t.nextImage=t.currentImage+1,t.prevImage=t.currentImage-1):t.currentImage=0}var t=this;t.$onInit=m,t.$onChanges=a,t.closeFullScreenMode=r,t.next=function(){t.back=!1,n(function(){t.noMove=!1,t.currentImage+1===t.numberOfImages?(t.currentImage=0,t.nextImage=1,t.prevImage=t.numberOfImages-1):(t.currentImage++,t.currentImage+1===t.numberOfImages?(t.nextImage=0,t.prevImage=t.numberOfImages-2):(t.nextImage=t.currentImage+1,t.prevImage=t.currentImage-1))},100)},t.prev=function(){t.back=!0,t.noMove=!0,n(function(){t.noMove=!1,0===t.currentImage?(t.currentImage=t.numberOfImages-1,t.nextImage=0,t.prevImage=t.currentImage-1):(t.currentImage--,0===t.currentImage?(t.nextImage=1,t.prevImage=t.numberOfImages-1):(t.nextImage=t.currentImage+1,t.prevImage=t.currentImage-1))},10)}}angular.module("geosilesia").component("fullscreenImage",{templateUrl:"html/views/fullscreen-image.html",bindings:{custom:"<",images:"<",activeSlide:"<",show:"="},controllerAs:"vm",controller:e}),e.$inject=["$rootScope","$timeout"]}();
!function(){function MapController(mapStyle,iconsForMarkers){function onChanges(changes){if(vm.markers){obiekty=vm.markers;var map,marker,i,infowindow,styledMapType=mapStyle,icons=iconsForMarkers,mapOptions={center:{lat:50.277978,lng:19.020544},zoom:10,scrollwheel:!1,draggable:!0,mapTypeId:"terrain",minZoom:8,fullscreenControl:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:["roadmap","satellite","hybrid","terrain","styled_map"],style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},scaleControl:!0};for(map=new google.maps.Map(document.getElementById("map"),mapOptions),map.mapTypes.set("styled_map",styledMapType),infowindow=new google.maps.InfoWindow,i=0;i<obiekty.length;i++){var pozycja=eval("("+obiekty[i].position+")");marker=new google.maps.Marker({position:pozycja,map:map,title:obiekty[i].title,icon:icons[obiekty[i].category].icon}),google.maps.event.addListener(marker,"click",function(o,e){return function(){infowindow.setContent("<div class='markerDeskription'><p>"+obiekty[e].title+"</p><p>"+obiekty[e].place+"</p><a href="+obiekty[e].hyperlink+" target='_blank'>Więcej</a></div>"),infowindow.open(map,o)}}(marker,i))}}}var vm=this;vm.$onChanges=onChanges}angular.module("geosilesia").component("map",{template:'<div id="map" class="map"></div>',bindings:{markers:"<"},controllerAs:"vm",controller:MapController}),MapController.$inject=["mapStyle","iconsForMarkers"]}();
!function(){function n(n){function t(){n.get("json/events.json").then(function(n){e.news=n.data.news})}var e=this;e.news=[],e.$onInit=t}angular.module("geosilesia").component("events",{templateUrl:"html/views/news.html",bindings:{custom:"<"},controllerAs:"vm",controller:n}),n.$inject=["$http"]}();
!function(){angular.module("geosilesia").config(["$locationProvider","$routeProvider",function(e,l){e.hashPrefix(""),l.when("/",{template:"<homepage></homepage>"}).when("/o-nas",{template:"<about></about>"}).when("/english",{template:"<english></english>"}).when("/slownik",{template:"<dictionary></dictionary>"}).when("/wydarzenia",{template:"<events></events>"}).when("/galeria",{template:"<galleries></galleries>"}).when("/galeria/:galleryId",{template:"<gallery></gallery>"}).when("/polozenie",{templateUrl:"html/views/geoslask/polozenie.html"}).when("/rzezba",{templateUrl:"html/views/geoslask/rzezba.html"}).when("/budowa",{templateUrl:"html/views/geoslask/budowa.html"}).when("/geostanowiska",{templateUrl:"html/views/geoslask/geostanowiska.html"}).when("/atrakcje",{templateUrl:"html/views/geoslask/atrakcje.html"}).otherwise("/"),e.html5Mode(!0)}])}();
!function(){angular.module("geosilesia").value("iconsForMarkers",{wybraneGeostanowiska:{name:"Wybrane geostanowiska",icon:"images/markers/fossils.png"},trasyPodziemne:{name:"Trasy podziemne",icon:"images/markers/cave-2.png"},muzeaGeologiczneIDinoparki:{name:"Muzea geologiczne, ośrodki edukacyjne i dinoparki",icon:"images/markers/museum_science.png"},obiektyPrzemysloweIPoprzemyslowe:{name:"Obiekty przemysłowe i poprzemysłowe",icon:"images/markers/museum_industry.png"},uzdrowiskaIObiektyUzdrowiskowe:{name:"Uzdrowiska i obiekty uzdrowiskowe",icon:"images/markers/spa.png"},obszaryIObiektyChronione:{name:"Obszary i obiekty chronione",icon:"images/markers/peak.png"},sciezkiTematyczne:{name:"Ścieżki tematyczne",icon:"images/markers/walkingtour.png"},inne:{name:"inne",icon:"images/markers/world.png"},geostanowiskaMiedzynarodowe:{name:"Geostanowiska międzynarodowe",icon:"images/markers/world_geostanowiska.png"}})}();
!function(){angular.module("geosilesia").constant("mapStyle",new google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],{name:"Custom"}))}();
!function(){angular.module("geosilesia").controller("StructuresController",["$scope",function(o){o.activeTab=1,o.checkTab=function(c){o.activeTab=c,console.log(o.activeTab)}}])}();
!function(){angular.module("geosilesia").directive("imageLoaded",function(){function i(i,n){n.find("img").bind("load",function(){n.addClass("figuryUp")})}return{restrict:"A",link:i}})}();