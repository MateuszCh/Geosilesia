<div class="fill carousel">
    <!-- slides -->
    <div class="fill">

        <div class="carousel__slide"
             ng-swipe-left="vm.swipeTo(0)"
             ng-swipe-right="vm.swipeTo(vm.slides.length - 2)"
             ng-repeat="slide in ::[vm.slides[vm.slides.length - 1]] track by $index"
             ng-style="{'left' : (vm.left - 100) + '%'}">
            <img src="{{::slide.image}}"
                 draggable="false"
                 ng-style="::(slide.left_position || slide.top_position) && {'object-position' : (slide.left_position ? slide.left_position + '%' : 'center') + ' ' + (slide.top_position ? slide.top_position + '%' : 'center')}"
                 class="carousel__slide__image">
        </div>

        <div class="carousel__slide"
             ng-swipe-left="vm.swipeTo($index + 1)"
             ng-swipe-right="vm.swipeTo($index - 1)"
             ng-repeat="slide in ::vm.slides track by $index"
             ng-style="{'left' : ($index * 100 + vm.left) + '%'}">
            <img src="{{::slide.image}}"
                 draggable="false"
                 ng-style="::(slide.left_position || slide.top_position) && {'object-position' : (slide.left_position ? slide.left_position + '%' : 'center') + ' ' + (slide.top_position ? slide.top_position + '%' : 'center')}"
                 class="carousel__slide__image">
        </div>

        <div class="carousel__slide"
             ng-swipe-left="vm.swipeTo(1)"
             ng-swipe-right="vm.swipeTo(vm.slides.length - 1)"
             ng-repeat="slide in ::[vm.slides[0]] track by $index"
             ng-style="{'left' : (vm.slides.length * 100 + vm.left) + '%'}">
            <img src="{{::slide.image}}"
                 draggable="false"
                 ng-style="::(slide.left_position || slide.top_position) && {'object-position' : (slide.left_position ? slide.left_position + '%' : 'center') + ' ' + (slide.top_position ? slide.top_position + '%' : 'center')}"
                 class="carousel__slide__image">
        </div>
    </div>
    <!-- pagination -->
    <div class="carousel__pagination"
         ng-if="::vm.slides.length > 1">
        <div class="carousel__pagination__inner"
             ng-mouseenter="vm.cancelInt()"
             ng-mouseleave="vm.setInt()">
            <div class="carousel__pagination__item"
                 ng-repeat="i in ::vm.slides track by $index"
                 ng-click="vm.goTo($index)"
                 ng-class="{'carousel__pagination__item--active' : vm.left === $index * -100 || ($index === 0 && vm.left === -100 * vm.slides.length) ||($index === vm.slides.length - 1 && vm.left === 100)}"></div>
        </div>
    </div>
    <!-- top info -->
    <div class="info info--top ng-hide-animate"
         ng-show="(vm.slides[vm.currentSlide()].text || vm.slides[vm.currentSlide()].text_english) && vm.custom.pin_icon">
        <div class="info__figure">
            <img class="info__figure__image"
                 src="{{::vm.custom.pin_icon}}">
        </div>
        <div class="info__text">
            <p class="info__text__paragraph"
               ng-if="vm.slides[vm.currentSlide()].text"
               ng-bind="vm.slides[vm.currentSlide()].text"></p>
            <p class="info__text__paragraph"
               ng-if="vm.slides[vm.currentSlide()].text_english"
               ng-bind="vm.slides[vm.currentSlide()].text_english"></p>
        </div>
    </div>
    <!-- bottom info -->
    <div class="info info--bottom ng-hide-animate"
         ng-show="::(vm.custom.info_text || vm.custom.info_text_english) && vm.custom.info_icon">
        <div class="info__figure">
            <img class="info__figure__image"
                 src="{{::vm.custom.info_icon}}">
        </div>
        <div class="info__text">
            <p class="info__text__paragraph"
               ng-if="::vm.custom.info_text"
               ng-bind="::vm.custom.info_text"></p>
            <p class="info__text__paragraph"
               ng-if="::vm.custom.info_text_english"
               ng-bind="::vm.custom.info_text_english"></p>
        </div>
    </div>
</div>